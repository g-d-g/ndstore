{% extends "base.html" %}
{% comment %}
Create Project Template
{% endcomment %}

{% block title %}
        Create New Project
{% endblock title%}
{% block head %}
{{block.super}}
 <script type="text/javascript">
   $(document).ready(function(){
    $("#project1").hide();
    $("#project0").show();
   
   $(document).on('click', '.project' , function() {
   if (this.value == 1){ 
   
   $(".project1").show();
   $(".project0").hide();

   } else {
   $(".project1").hide();
   $(".project0").show();

   
   
   }       
   })
   
});   


</script>
{%endblock head%}
{% block content %}
 <div class="container-fluid">
   <div class = "row-fluid">
        <div class ="span12">

	  <div id="header" style="background-color:#4682B4;" align="center">
	    <h2 style="margin-bottom:0;">CREATE NEW PROJECT</h2></div>
	</div>
   </div>
 </div>

<form method="post" action="" enctype="multipart/form-data">
  {{ tformset.management_form }}
  {% for tform in tformset.forms %}   
  {{ tform.non_field_errors }}
  <div class="container-fluid">
    <div class = "row-fluid"> <div class ="span12"></div></div>
    
    <div class = "row-fluid">
       <div class ="span4"></div>
       <div class ="span2">
         <div class="fieldWrapper">
           {{ tform.subject.errors }}
           <label for="token_name">Token:</label>
         </div>
       </div>
       <div class ="span2">
         {{ tform.token_name }}
       </div>
       <div class ="span4"></div>
     </div>

    <div class = "row-fluid">
       <div class ="span4"></div>
       <div class ="span2">      
         <div class="fieldWrapper">
           {{ tform.subject.errors }}
           <label for="token_description">Token Description:</label>
         </div>                                                     
       </div>                                                       
       <div class ="span2">                                         
         {{ tform.token_description }}                              
       </div>                                                       
       <div class ="span4"></div>                                   
     </div> 

    <div class = "row-fluid">                                       
       <div class ="span4"></div>                                   
       <div class ="span2">                                         
         <div class="fieldWrapper">                                 
           {{ tform.subject.errors }}                               
           <label for="readonly">Readonly Token:</label>            
         </div>                                                     
       </div>                                                       
       <div class ="span2">                                         
         {{ tform.readonly }}                                      
       </div>                                                      
       <div class ="span4"></div>                                  
     </div> 


    <div class = "row-fluid">
       <div class ="span4"></div>
       <div class ="span2">      
         <div class="fieldWrapper">
           {{ tform.subject.errors }}
           <label for="public">Public:</label>
         </div>                               
       </div>                                 
       <div class ="span2">                   
         {{ tform.public }}                   
       </div>                                 
       <div class ="span4"></div>             
     </div>

     <div class = "row-fluid">
       <div class ="span4"></div>
       <div class ="span2">
         <div class="fieldWrapper">
           {{ tform.subject.errors }}
           <label for="proj_name">Link to existing project</label>
         </div>
       </div>
       <div class ="span2">
	 <input type="radio" name="project" class="project" value="0"  checked/> Yes<br>
	 <input type="radio" name="project" class="project" value="1" /> No. Create a new project
       </div>
       <div class ="span4"></div>
     </div>

     <div class='project0' id='project0'>
       <div class = "row-fluid">
	 <div class ="span4"></div>
	 <div class ="span2">
           <div class="fieldWrapper">
             {{ tform.subject.errors }}
             <label for="proj_name">Select project: </label>
           </div>
	 </div>
	 <div class ="span2">
	   <select name="proj_name">
	     <option value="none">-----</option>
	     {% for proj in proj_list %}
	     <option value="{{ proj }}">{{ proj }}</option>
	     {% endfor %}
	   </select>
	 </div>
	 <div class ="span4"></div>
       </div>
     </div>

    {% endfor %}

  {{ formset.management_form }}
  {% for form in formset.forms %}   
  {{ form.non_field_errors }}
     <div class='project1' id='project1'>
       <div class="container-fluid">
	 <div class = "row-fluid"> <div class ="span12"></div></div>
	 
    
    
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               {{ form.subject.errors }}
               <label for="project_name">Project:</label>
             </div>
	   </div>
	   <div class ="span2">
             {{ form.project_name }}
	   </div>
	   <div class ="span4"></div>
	 </div>
	 
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               {{ form.subject.errors }}
               <label for="description">Project Description</label>
             </div>
	   </div>
	   <div class ="span2">
             {{ form.project_description }}
	   </div>
	   <div class ="span4"></div>
	 </div>
	 
	 <!-- <div class = "row-fluid">
	      <div class ="span4"></div>
	      <div class ="span2">
		<div class="fieldWrapper">
		  {{ form.subject.errors }}
		  <label for="ds_name">Dataset</label>
		</div>
	      </div>
	      <div class ="span2">
		{{ form.ds_name }}
	      </div>
	      <div class ="span4"></div>
	 </div>-->
	 
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               {{ form.subject.errors }}
               <label for="ds_name">Dataset</label>
             </div>
	   </div>
	   <div class ="span2">
	     <select name="ds_name">
	       {% for ds in ds_list %}
	       <option value="{{ ds }}">{{ ds }}</option>
	       {% endfor %}
	     </select>
	   </div>
	   <div class ="span4"></div>
	 </div>
	 
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               {{ form.subject.errors }}
               <label for="datatype">Datatype:</label>
             </div>
           </div>
           <div class ="span2">
             {{ form.datatype }}
           </div>
           <div class ="span4"></div>
	 </div>
	 
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               {{ form.subject.errors }}
               <label for="resolution">Resolution:</label>
             </div>
	   </div>
	   <div class ="span2">
             {{ form.resolution }}
	   </div>
	   <div class ="span4"></div>
	 </div>
	 
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               {{ form.subject.errors }}
               <label for="exceptions">Enable Exceptions:</label>
             </div>
	   </div>
	   <div class ="span2">
             {{ form.exceptions }}
	   </div>
	   <div class ="span4"></div>
	 </div>
	 
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               {{ form.subject.errors }}
               <label for="exceptions"> Database Host</label>
             </div>
	   </div>
	   <div class ="span2">
             {{ form.host }}
	   </div>
	   <div class ="span4"></div>
	 </div>
	 
	 <div class = "row-fluid">
	   <div class ="span4"></div>
	   <div class ="span2">
             <div class="fieldWrapper">
               <input type="checkbox" name="nocreate" id="nocre" value="on"> Link to existing database
             </div>
	   </div>
	   <div class ="span2">
             {{ form.nocreate }}
	   </div>
	   <div class ="span4"></div>
	 </div>
	 
       </div>
     </div>
     
     <div class = "row-fluid">
       <div class ="span5"></div>
      <div class ="span3">
	<p><button class="btn btn-primary" name = "CreateProject" type="submit">Create New Project</button></p>
        
      </div>
      <div class ="span4"></div>
    
{% endfor %}  
 </form>
       
{% endblock %}


