{% extends "base.html" %}

{% block title %}
     Projects 
{% endblock title %}


{% block content %}
<ul>
  {% for message in messages %}
  <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
  {% endfor %}
</ul>


<form class="form-inline" method="post" action="">

  
  <div class="container-fluid">
    <div class = "row-fluid">
      
      <div class ="span12">
	<div id="header" style="background-color:#4682B4;" align="center">  
	  <h2 style="margin-bottom:0;">PROJECTS</h2></div>
      </div>
    </div>
  </div>
  

  <div class="container-fluid">
    <div class = "row-fluid">
      <div class ="span3"></div>
      <div class ="span6">
	<div id="content" style="background-color:#F5F6CE;float:left;">
	  
	  Filter By:
	  <select name="filteroption">
	    <option value="project">Project</option>
	    <option value="datatype">Datatype</option>
	  </select>
	  
	  <input type="text"  name="filtervalue" placeholder="Enter Filter Value">
	  <button type="submit" class= "btn" name ="filter">Filter Projects </button>
	  
	</div>
	<div class ="span3"></div>
      </div>
    </div>
  </div>

</form>
<body>

<form method="post" action="">
 
 <div class="container-fluid">
    <div class = "row-fluid">
      	<div class ="span1"></div>
	<div class ="span10">
	  <table class ="table">
	    {% for dataset, dts_projects in databases %}
	    
	    <thead>
	      <tr class="success"><th>Dataset</th> <th>{{dataset}}</th></tr>
	    </thead>
	    <tr>
	      <td></td>
	      <td>
	
		{% for value in dts_projects %} 
		<table class="table table-bordered">
		  {%if value %}
                  <tr class ="error">
                    <th>Project</th>
                    <th>Datatype</th>
                    <th>Description</th>
                    <th>Overlay Project</th>
                    <th>Overlay Server</th>
                    <th>Resolution</th>
                    <th>Exceptions</th>
                    <th>Host</th>
                    <th>KVEngine</th>
                    <th>KVServer</th>
                    <th>Propagate</th>
                  </tr>
		  {% endif %}
		  {% for proj in value %}
		  		  		  
		  <form method="post" action = "">
		    <tr>
		      <input type="hidden" name="projname" value={{proj.project_name}}>
		      <td style="width: 15%;">{{ proj.project_name }}</td>
		      {% if proj.datatype == 1 %}
		      <td>IMAGE</td>
		      {% elif proj.datatype == 2%}
		      <td>ANNOTATION</td>
		      {% elif proj.datatype == 3%}
		      <td>CHANNEL 8bit</td>
		      {% elif proj.datatype == 4%}
		      <td>CHANNEL 16bit</td>
		      {% elif proj.datatype == 5%}
                      <td>PROBMAP 32bit</td>
		      {% elif proj.datatype == 6%}
                      <td>BITMASK</td>
		      {% elif proj.datatype == 7%}
                      <td>ANNOTATION 64bit</td>
		      {% else %}
		      <td>OTHER</td>
		      {% endif %}
		      <td>{{ proj.project_description }}</td>
		      <td>{{ proj.overlayproject }}</td>
		      <td>{{ proj.overlayserver }}</td>
		      <td>{{ proj.resolution }}</td>
		      {% if proj.exceptions == 0%}
                      <td>NO</td>
		      {% else %}
		      <td>YES</td>
		      {% endif %}
		      <td>{{ proj.host }}</td>
		      <td>{{ proj.kvengine }}</td>
		      <td>{{ proj.kvserver }}</td>
		      {% if proj.propagate == 0%}
                      <td>NOT_PROPAGATED</td>
		      {% elif proj.propagate == 1%}
		      <td>UNDER PROPAGATION</td>
		       {% else %}
		      <td>PROPAGATED</td>
		      {% endif %}
		      
		     
		      <td><button class="btn" id="delete" type="submit" name="delete"> <i class ="icon-trash icon-black"></i>Delete Project</button></td>
		      <td><button class="btn" id="update" type="submit" name="update"> <i class ="icon-inbox icon-black"></i>Update Project</button></td>
		      <td><button class="btn" id="backup" type="submit" name="backup"> <i class ="icon-inbox icon-black"></i>Backup Project</button></td>
		      <td><button class="btn" id="tokens" type="submit" name="tokens"> <i class ="icon-inbox icon-black"></i>View Tokens</button></td>
		  </form>
		  {% endfor %}         
		  

		  {% empty %}
		  <li>No Projects Available!</li>
		  {% endfor %}         
	      </table></td>
	    </tr>
	    {% empty %}
	    <li>No Projects Available!</li>
	    {% endfor %}
	
	  </table>
	</div>
	<div class ="span1"></div>
    </div>
 </div>
  


</form>








</body>



{% endblock content %}


